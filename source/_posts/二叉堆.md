---
title: 二叉堆
date: 2019-06-13 13:55:15
categories:
  - 算法
tags:
---

# 二叉堆
- 本质是一种 **完全二叉树**
- 有 **最小堆** 和 **最大堆** 两种
- 二叉堆的根节点叫做 **堆顶**
- 最大堆的堆顶是整个堆中的 **最大元素**
- 最小堆的堆顶是整个堆中的 **最小元素**

## 最大堆
任何一个 **父节点** 的值，都 **大于或等于** 它左、右孩子节点的值

## 最小堆
任何一个 **父节点** 的值，都 **小于或等于** 它左、右孩子节点的值

## 二叉堆的自我调整
把一个不符合堆性质的完全二叉树，调整成一个堆，操作有
- 插入节点
- 删除节点
- 构建二叉堆

### 插入节点
1. 二叉堆插入节点时，插入位置是完全二叉树的 **最后** 一个位置
2. 新节点通过与父节点比较位置和 **上浮** 来确认节点的位置

### 删除节点
1. 二叉堆删除的是 **堆顶** 的节点
2. 此时为了维持二叉堆的结构，需要用 **最后一个** 节点临时补充到堆顶的位置
3. 通过 **下沉** 来确认节点的位置

### 构建二叉堆
- 通过所有子叶 **下沉** 实现
- 下沉从最后一个节点开始
- 二叉堆的所有节点都存储在 **数组** 中
- 如果父节点的下标是 **parent**，则左孩子的下标为 **2 * parent + 1**，右孩子的下标为 **2 * parent + 2**
